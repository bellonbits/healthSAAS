(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{90998:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var a=s(62898);let r=(0,a.Z)("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]])},72894:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var a=s(62898);let r=(0,a.Z)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},92457:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var a=s(62898);let r=(0,a.Z)("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},60272:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var a=s(62898);let r=(0,a.Z)("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]])},28203:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var a=s(62898);let r=(0,a.Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},81291:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var a=s(62898);let r=(0,a.Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},17158:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var a=s(62898);let r=(0,a.Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},6141:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var a=s(62898);let r=(0,a.Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},99670:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var a=s(62898);let r=(0,a.Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},77480:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var a=s(62898);let r=(0,a.Z)("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]])},25119:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var a=s(62898);let r=(0,a.Z)("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]])},65883:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var a=s(62898);let r=(0,a.Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])},68004:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var a=s(62898);let r=(0,a.Z)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]])},9883:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var a=s(62898);let r=(0,a.Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},29409:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var a=s(62898);let r=(0,a.Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},67607:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var a=s(62898);let r=(0,a.Z)("Stethoscope",[["path",{d:"M4.8 2.3A.3.3 0 1 0 5 2H4a2 2 0 0 0-2 2v5a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6V4a2 2 0 0 0-2-2h-1a.2.2 0 1 0 .3.3",key:"1jd90r"}],["path",{d:"M8 15v1a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6v-4",key:"126ukv"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]])},85790:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var a=s(62898);let r=(0,a.Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},67972:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var a=s(62898);let r=(0,a.Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},25750:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var a=s(62898);let r=(0,a.Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},30441:function(e,t,s){Promise.resolve().then(s.bind(s,30708))},30708:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return Dashboard}});var a=s(57437),r=s(2265),l=s(4434),n=s(10609),i=s(3089),d=s(40150),c=s(45271),o=s(85790),h=s(62898);let x=(0,h.Z)("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);var u=s(67972),m=s(77480),f=s(67607),v=s(90998);let p=(0,h.Z)("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);var g=s(6141),j=s(9883),y=s(25750),N=s(72894);let b=(0,h.Z)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);var w=s(28203),k=s(99670),_=s(6454),Z=s(15316),A=s(3887),M=s(61396),T=s.n(M);function Dashboard(){let[e,t]=(0,r.useState)(null),[s,h]=(0,r.useState)([]),[M,R]=(0,r.useState)(!0),{handleApiCall:C}=(0,Z.h)(),{user:D}=(0,A.useAuth)(),[S,z]=(0,r.useState)("checking");(0,r.useEffect)(()=>{loadDashboardData()},[]);let loadDashboardData=async()=>{R(!0);try{let[e,s]=await Promise.all([C(()=>_.hi.getDashboardStats().then(e=>e.data.data),{showError:!1}),C(()=>_.hi.getRecentActivity().then(e=>e.data.data.activities||[]),{showError:!1})]);if(e?t(e):t({total_patients:147,total_households:42,total_visits:289,high_risk_patients:23,recent_visits_count:15,patients_trend:12,households_trend:5,visits_trend:8}),s&&s.length>0)h(s.slice(0,10));else{let e=(0,_.Tm)();h(e)}}catch(e){console.error("Failed to load dashboard data:",e),t({total_patients:147,total_households:42,total_visits:289,high_risk_patients:23,recent_visits_count:15,patients_trend:12,households_trend:5,visits_trend:8}),h((0,_.Tm)())}finally{R(!1)}};(0,r.useEffect)(()=>{checkAIStatus()},[]);let checkAIStatus=async()=>{try{let e=await _.hi.getAIStatus();z("online"===e.data.status?"online":"offline")}catch(e){console.warn("Failed to check AI status:",e),z("offline")}},getTrendIcon=e=>e>0?(0,a.jsx)(o.Z,{className:"h-4 w-4 text-green-500"}):e<0?(0,a.jsx)(x,{className:"h-4 w-4 text-red-500"}):(0,a.jsx)("span",{className:"h-4 w-4",children:"â†’"}),getTrendColor=e=>e>0?"text-green-600":e<0?"text-red-600":"text-gray-600",getActivityIcon=e=>{switch(e){case"patient_created":case"patient_updated":return(0,a.jsx)(u.Z,{className:"h-4 w-4 text-blue-500"});case"household_created":return(0,a.jsx)(m.Z,{className:"h-4 w-4 text-green-500"});case"visit_created":case"visit_updated":return(0,a.jsx)(f.Z,{className:"h-4 w-4 text-purple-500"});case"user_logged_in":return(0,a.jsx)(v.Z,{className:"h-4 w-4 text-orange-500"});case"data_exported":return(0,a.jsx)(p,{className:"h-4 w-4 text-indigo-500"});default:return(0,a.jsx)(v.Z,{className:"h-4 w-4 text-gray-500"})}},getActivityBadge=e=>{let t={patient_created:{label:"Patient Added",variant:"success"},patient_updated:{label:"Patient Updated",variant:"default"},household_created:{label:"Household Added",variant:"secondary"},visit_created:{label:"Visit Recorded",variant:"outline"},visit_updated:{label:"Visit Updated",variant:"outline"},user_logged_in:{label:"Login",variant:"default"},data_exported:{label:"Data Export",variant:"secondary"}}[e]||{label:e,variant:"default"};return(0,a.jsx)(d.C,{variant:t.variant,className:"text-xs",children:t.label})},formatTimestamp=e=>{let t=new Date(e),s=new Date,a=Math.floor((s.getTime()-t.getTime())/6e4),r=Math.floor(a/60),l=Math.floor(r/24);return a<1?"Just now":a<60?"".concat(a,"m ago"):r<24?"".concat(r,"h ago"):1===l?"Yesterday":l<7?"".concat(l,"d ago"):t.toLocaleDateString()},getActivityDescription=e=>{var t,s,a,r,l;if(e.description)return e.description;switch(e.type){case"patient_created":return"Registered new patient ".concat((null===(t=e.metadata)||void 0===t?void 0:t.patient_name)||"");case"patient_updated":return"Updated patient ".concat((null===(s=e.metadata)||void 0===s?void 0:s.patient_name)||"");case"household_created":return"Registered new household ".concat((null===(a=e.metadata)||void 0===a?void 0:a.household_code)||"");case"visit_created":return"Recorded ".concat((null===(r=e.metadata)||void 0===r?void 0:r.visit_type)||""," visit for patient");case"visit_updated":return"Updated ".concat((null===(l=e.metadata)||void 0===l?void 0:l.visit_type)||""," visit");case"user_logged_in":return"Logged into the system";case"data_exported":return"Exported system data";default:return"Performed system action"}};return M?(0,a.jsx)(l.A,{children:(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"h-8 w-8 animate-spin rounded-full border-2 border-primary border-t-transparent mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Loading dashboard data..."})]})})})}):(0,a.jsx)(l.A,{children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold",children:"Dashboard"}),(0,a.jsxs)("p",{className:"text-muted-foreground",children:["Welcome back, ",D&&(D.full_name||D.username)||"User","! Here's what's happening today."]})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(i.z,{onClick:loadDashboardData,variant:"outline",className:"sm:w-auto",children:[(0,a.jsx)(g.Z,{className:"h-4 w-4 mr-2"}),"Refresh"]}),(0,a.jsx)(T(),{href:"/visits",children:(0,a.jsxs)(i.z,{className:"bg-gradient-primary hover:opacity-90 sm:w-auto",children:[(0,a.jsx)(j.Z,{className:"h-4 w-4 mr-2"}),"Record Visit"]})})]})]}),(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,a.jsxs)(n.Zb,{className:"shadow-card hover:shadow-lg transition-shadow",children:[(0,a.jsxs)(n.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(n.ll,{className:"text-sm font-medium",children:"Total Patients"}),(0,a.jsx)(y.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(n.aY,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:(null==e?void 0:e.total_patients)||0}),(0,a.jsx)("div",{className:"flex items-center text-xs text-muted-foreground",children:(null==e?void 0:e.patients_trend)!==void 0&&(0,a.jsxs)(a.Fragment,{children:[getTrendIcon(e.patients_trend),(0,a.jsxs)("span",{className:"ml-1 ".concat(getTrendColor(e.patients_trend)),children:[Math.abs(e.patients_trend),"% from last week"]})]})})]})]}),(0,a.jsxs)(n.Zb,{className:"shadow-card hover:shadow-lg transition-shadow",children:[(0,a.jsxs)(n.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(n.ll,{className:"text-sm font-medium",children:"Total Households"}),(0,a.jsx)(m.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(n.aY,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:(null==e?void 0:e.total_households)||0}),(0,a.jsx)("div",{className:"flex items-center text-xs text-muted-foreground",children:(null==e?void 0:e.households_trend)!==void 0&&(0,a.jsxs)(a.Fragment,{children:[getTrendIcon(e.households_trend),(0,a.jsxs)("span",{className:"ml-1 ".concat(getTrendColor(e.households_trend)),children:[Math.abs(e.households_trend),"% from last week"]})]})})]})]}),(0,a.jsxs)(n.Zb,{className:"shadow-card hover:shadow-lg transition-shadow",children:[(0,a.jsxs)(n.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(n.ll,{className:"text-sm font-medium",children:"Medical Visits"}),(0,a.jsx)(f.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(n.aY,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:(null==e?void 0:e.total_visits)||0}),(0,a.jsx)("div",{className:"flex items-center text-xs text-muted-foreground",children:(null==e?void 0:e.visits_trend)!==void 0&&(0,a.jsxs)(a.Fragment,{children:[getTrendIcon(e.visits_trend),(0,a.jsxs)("span",{className:"ml-1 ".concat(getTrendColor(e.visits_trend)),children:[Math.abs(e.visits_trend),"% from last week"]})]})})]})]}),(0,a.jsxs)(n.Zb,{className:"shadow-card hover:shadow-lg transition-shadow",children:[(0,a.jsxs)(n.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(n.ll,{className:"text-sm font-medium",children:"High Risk Patients"}),(0,a.jsx)(N.Z,{className:"h-4 w-4 text-red-500"})]}),(0,a.jsxs)(n.aY,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-red-600",children:(null==e?void 0:e.high_risk_patients)||0}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Requiring immediate attention"})]})]})]}),(0,a.jsxs)(n.Zb,{className:"shadow-card",children:[(0,a.jsx)(n.Ol,{children:(0,a.jsx)(n.ll,{children:"System Status"})}),(0,a.jsxs)(n.aY,{children:[(0,a.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 p-3 border rounded-lg",children:[(0,a.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:"API Server"}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Operational"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3 p-3 border rounded-lg",children:[(0,a.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:"Database"}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Connected"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3 p-3 border rounded-lg",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full ".concat("online"===S?"bg-green-500":"offline"===S?"bg-yellow-500":"bg-blue-500 animate-pulse")}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:"AI Services"}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"online"===S?"Available":"offline"===S?"Limited":"Checking..."})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3 p-3 border rounded-lg",children:[(0,a.jsx)("div",{className:"w-3 h-3 bg-blue-500 rounded-full animate-pulse"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:"Last Sync"}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:formatTimestamp(new Date().toISOString())})]})]})]}),"offline"===S&&(0,a.jsx)("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(N.Z,{className:"h-4 w-4 text-yellow-600"}),(0,a.jsx)("span",{className:"text-sm text-yellow-800",children:"AI services are temporarily unavailable. Basic recommendations are still available."})]})})]})]}),(0,a.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2",children:[(0,a.jsxs)(n.Zb,{className:"shadow-card",children:[(0,a.jsxs)(n.Ol,{className:"flex flex-row items-center justify-between",children:[(0,a.jsxs)(n.ll,{className:"flex items-center gap-2",children:[(0,a.jsx)(v.Z,{className:"h-5 w-5"}),"Recent Activity"]}),(0,a.jsxs)(d.C,{variant:"outline",className:"text-xs",children:[s.length," activities"]})]}),(0,a.jsx)(n.aY,{children:s.length>0?(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("div",{className:"rounded-md border",children:(0,a.jsxs)(c.iA,{children:[(0,a.jsx)(c.xD,{children:(0,a.jsxs)(c.SC,{children:[(0,a.jsx)(c.ss,{children:"Activity"}),(0,a.jsx)(c.ss,{children:"User"}),(0,a.jsx)(c.ss,{className:"text-right",children:"Time"})]})}),(0,a.jsx)(c.RM,{children:s.slice(0,6).map(e=>{var t;return(0,a.jsxs)(c.SC,{className:"hover:bg-gray-50",children:[(0,a.jsx)(c.pj,{children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[getActivityIcon(e.type),(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:getActivityDescription(e)}),(0,a.jsx)("div",{className:"mt-1",children:getActivityBadge(e.type)})]})]})}),(0,a.jsx)(c.pj,{children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-6 h-6 bg-gradient-primary rounded-full flex items-center justify-center text-xs text-white",children:(null===(t=e.user)||void 0===t?void 0:t.charAt(0))||"U"}),(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:e.user})]})}),(0,a.jsx)(c.pj,{className:"text-right",children:(0,a.jsxs)("div",{className:"flex items-center justify-end gap-1",children:[(0,a.jsx)(g.Z,{className:"h-3 w-3 text-muted-foreground"}),(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:formatTimestamp(e.timestamp)})]})})]},e._id)})})]})}),(0,a.jsx)(T(),{href:"/settings?tab=activity",children:(0,a.jsxs)(i.z,{variant:"outline",className:"w-full",children:["View All Activity",(0,a.jsx)(b,{className:"h-4 w-4 ml-2"})]})})]}):(0,a.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[(0,a.jsx)(v.Z,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),(0,a.jsx)("p",{children:"No recent activity"}),(0,a.jsx)("p",{className:"text-sm",children:"Activities will appear here as you use the system"})]})})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)(n.Zb,{className:"shadow-card",children:[(0,a.jsx)(n.Ol,{children:(0,a.jsxs)(n.ll,{className:"flex items-center gap-2",children:[(0,a.jsx)(w.Z,{className:"h-5 w-5"}),"Recent Visits"]})}),(0,a.jsx)(n.aY,{children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"text-center py-4",children:[(0,a.jsx)("div",{className:"text-3xl font-bold text-primary mb-2",children:(null==e?void 0:e.recent_visits_count)||0}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"visits this week"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-center",children:[(0,a.jsxs)("div",{className:"p-3 bg-blue-50 rounded-lg",children:[(0,a.jsx)("div",{className:"text-lg font-bold text-blue-600",children:"8"}),(0,a.jsx)("div",{className:"text-xs text-blue-600",children:"Routine"})]}),(0,a.jsxs)("div",{className:"p-3 bg-green-50 rounded-lg",children:[(0,a.jsx)("div",{className:"text-lg font-bold text-green-600",children:"5"}),(0,a.jsx)("div",{className:"text-xs text-green-600",children:"Follow-up"})]}),(0,a.jsxs)("div",{className:"p-3 bg-orange-50 rounded-lg",children:[(0,a.jsx)("div",{className:"text-lg font-bold text-orange-600",children:"2"}),(0,a.jsx)("div",{className:"text-xs text-orange-600",children:"Emergency"})]}),(0,a.jsxs)("div",{className:"p-3 bg-purple-50 rounded-lg",children:[(0,a.jsx)("div",{className:"text-lg font-bold text-purple-600",children:"0"}),(0,a.jsx)("div",{className:"text-xs text-purple-600",children:"Initial"})]})]}),(0,a.jsx)(T(),{href:"/visits",children:(0,a.jsxs)(i.z,{className:"w-full",children:[(0,a.jsx)(k.Z,{className:"h-4 w-4 mr-2"}),"View All Visits"]})})]})})]}),(0,a.jsxs)(n.Zb,{className:"shadow-card",children:[(0,a.jsx)(n.Ol,{children:(0,a.jsx)(n.ll,{children:"Quick Actions"})}),(0,a.jsx)(n.aY,{children:(0,a.jsxs)("div",{className:"grid gap-3",children:[(0,a.jsx)(T(),{href:"/patients",children:(0,a.jsxs)(i.z,{className:"h-12 justify-start gap-3 w-full",children:[(0,a.jsx)(u.Z,{className:"h-5 w-5"}),(0,a.jsx)("span",{children:"Register New Patient"})]})}),(0,a.jsx)(T(),{href:"/households",children:(0,a.jsxs)(i.z,{className:"h-12 justify-start gap-3 w-full",variant:"outline",children:[(0,a.jsx)(m.Z,{className:"h-5 w-5"}),(0,a.jsx)("span",{children:"Add Household"})]})}),(0,a.jsx)(T(),{href:"/visits",children:(0,a.jsxs)(i.z,{className:"h-12 justify-start gap-3 w-full",variant:"outline",children:[(0,a.jsx)(f.Z,{className:"h-5 w-5"}),(0,a.jsx)("span",{children:"Record Medical Visit"})]})})]})})]})]})]})]})})}},40150:function(e,t,s){"use strict";s.d(t,{C:function(){return Badge}});var a=s(57437);s(2265);var r=s(96061),l=s(60345);let n=(0,r.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-100 text-green-800 hover:bg-green-200",warning:"border-transparent bg-yellow-100 text-yellow-800 hover:bg-yellow-200"}},defaultVariants:{variant:"default"}});function Badge(e){let{className:t,variant:s,...r}=e;return(0,a.jsx)("div",{className:(0,l.cn)(n({variant:s}),t),...r})}},45271:function(e,t,s){"use strict";s.d(t,{RM:function(){return d},SC:function(){return o},iA:function(){return n},pj:function(){return x},ss:function(){return h},xD:function(){return i}});var a=s(57437),r=s(2265),l=s(60345);let n=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{className:"relative w-full overflow-auto",children:(0,a.jsx)("table",{ref:t,className:(0,l.cn)("w-full caption-bottom text-sm",s),...r})})});n.displayName="Table";let i=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("thead",{ref:t,className:(0,l.cn)("[&_tr]:border-b",s),...r})});i.displayName="TableHeader";let d=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("tbody",{ref:t,className:(0,l.cn)("[&_tr:last-child]:border-0",s),...r})});d.displayName="TableBody";let c=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("tfoot",{ref:t,className:(0,l.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",s),...r})});c.displayName="TableFooter";let o=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("tr",{ref:t,className:(0,l.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",s),...r})});o.displayName="TableRow";let h=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("th",{ref:t,className:(0,l.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",s),...r})});h.displayName="TableHead";let x=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("td",{ref:t,className:(0,l.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",s),...r})});x.displayName="TableCell";let u=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("caption",{ref:t,className:(0,l.cn)("mt-4 text-sm text-muted-foreground",s),...r})});u.displayName="TableCaption"}},function(e){e.O(0,[919,937,922,971,472,744],function(){return e(e.s=30441)}),_N_E=e.O()}]);