(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{69631:function(e,t,r){Promise.resolve().then(r.t.bind(r,1654,23)),Promise.resolve().then(r.bind(r,71424)),Promise.resolve().then(r.t.bind(r,92489,23)),Promise.resolve().then(r.bind(r,3887)),Promise.resolve().then(r.bind(r,77370))},3887:function(e,t,r){"use strict";r.r(t),r.d(t,{AuthProvider:function(){return AuthProvider},useAuth:function(){return useAuth}});var s=r(57437),u=r(2265),n=r(24033);let o={getUser:()=>{try{let e=localStorage.getItem("healthsaas_user");return e?JSON.parse(e):null}catch(e){return null}},setUser:e=>{localStorage.setItem("healthsaas_user",JSON.stringify(e)),localStorage.setItem("healthsaas_token","authenticated")},clear:()=>{localStorage.removeItem("healthsaas_user"),localStorage.removeItem("healthsaas_token")}},i=(0,u.createContext)(void 0);function AuthProvider(e){let{children:t}=e,[r,l]=(0,u.useState)(null),[a,h]=(0,u.useState)(!0),c=(0,n.useRouter)(),d=(0,n.usePathname)();return(0,u.useEffect)(()=>{let e=o.getUser();l(e),h(!1)},[]),(0,u.useEffect)(()=>{if(!a){let e=["/login","/register"].includes(d);r&&e?c.push("/dashboard"):r||e||c.push("/login")}},[r,a,d,c]),(0,s.jsx)(i.Provider,{value:{user:r,login:e=>{l(e),o.setUser(e)},logout:()=>{l(null),o.clear(),c.push("/login")},updateUser:e=>{if(r){let t={...r,...e};l(t),o.setUser(t)}},loading:a},children:t})}let useAuth=()=>{let e=(0,u.useContext)(i);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},77370:function(e,t,r){"use strict";r.r(t),r.d(t,{QueryProvider:function(){return QueryProvider}});var s=r(57437),u=r(84749),n=r(38038),o=r(2265);function QueryProvider(e){let{children:t}=e,[r]=(0,o.useState)(()=>new u.S({defaultOptions:{queries:{staleTime:6e4,retry:1}}}));return(0,s.jsx)(n.aH,{client:r,children:t})}},92489:function(){}},function(e){e.O(0,[919,663,971,472,744],function(){return e(e.s=69631)}),_N_E=e.O()}]);